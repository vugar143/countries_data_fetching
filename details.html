<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <section class="countries">
    <div class="details">
       
    </div>
</section>
<script>
const countries=document.querySelector(".countries")
let search=window.location.search
let parameters=new URLSearchParams(search)
console.log(parameters)
let name=parameters.get("name")
fetch(`https://restcountries.com/v3.1/name/${name}`).then((a)=>a.json()).then((res)=>{
    res.map((a)=>{
        console.log(a)
    console.log(a.capital)
    let div=document.getElementsByClassName("details")[0]
    let img=document.createElement("img")
    img.setAttribute("src",a.flags.svg)
    let nameh=document.createElement("h1")
    nameh.textContent=a.name.common
    let capitalTd=document.createElement("p")
             capitalTd.textContent=a.capital
            let regionTd=document.createElement("p")
            regionTd.textContent=a.region
            let subregionTd=document.createElement("p")
            subregionTd.textContent=a.subregion
            let populationTd=document.createElement("p")
            populationTd.textContent=a.population
    div.append(img,nameh,capitalTd,regionTd,subregionTd,populationTd)
    countries.append(div)
    })
})

</script>
</body>
</html>